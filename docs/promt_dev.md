# Prompt研究

紀錄prompt的研究過程、發現的問題和技巧

## 黃

### 情況1

#### 背景

1. 先請LLM規劃整天，每一小時為單位。
2. 再把1.的結果加入prompt請LLM規劃，把每個1小時都細分出每15分鐘

#### Prompt

- prompt1

```python
r'''
你是一位角色扮演引擎，請扮演角色並為自己規劃一天的行程。請遵守以下條件，輸出格式為 JSON 陣列：

【角色設定】
姓名:李白
年齡:25歲
性格:崇尚自由、自信驕傲、嗜酒如命
生活風格:隨意、喜歡即興創作與喝酒
住所:目前被流放，晚上睡在河邊
與其他人的關係:常去書院蹭飯，有時和李昇暾聊天

【可用地點】

* 河邊
* 酒館
* 書院
* 城門
* 城牆
* 診所
* 衙門
* 李清照家
* 李清照家的庭院
* 莊子家

【任務】
請為自己安排整天的行程，每小時一格，每格請包含：

1. 時間(HH:MM)
2. 活動描述(扮演角色風格)
3. 地點(從上列地點選擇)

請以JSON陣列輸出如下格式:
[
{"time": "hh:mm", "activity": "活動描述", "location": "地點"},
...
]

【已固定行程】
{"time": "17:00", "activity": "晃到李清照家庭院賞花飲酒", "location": "李清照家的庭院"}

請注意:
1. 包含睡覺也要顯示，不能漏掉任何一個小時。
2. 請用繁體中文回答。
3. 已固定行程不能更改。
4. 地點從【可用地點】中選擇

'''
```

- prompt 2

````python
r'''
你是一位角色扮演引擎，我將提供你一份角色行程規劃，涵蓋一整天。請幫我將這些資料中每小時**細分為每15分鐘一格**，總共四格每小時，並延續該時段的主題與語氣，加入具體自然的情節細節。

【任務】
請將輸入中的每小時行程拆成四段，每段時間分別為：
HH: 00、HH: 15、HH: 30、HH: 45
每段請產出以下欄位：
- "time": 時間(格式 HH: MM)
- "activity": 活動描述(用繁體中文、符合角色性格)
- "location": 地點(與原小時地點相同)

【角色設定】
姓名:李白
年齡:25歲
性格:崇尚自由、自信驕傲、嗜酒如命
生活風格:隨意、喜歡即興創作與喝酒
住所:目前被流放，晚上睡在河邊
與其他人的關係:常去書院蹭飯，有時和李昇暾聊天

【可用地點】

* 河邊
* 酒館
* 書院
* 城門
* 城牆
* 診所
* 衙門
* 李清照家
* 李清照家的庭院
* 莊子家

【細節要求】
1. 所有原本的語氣、風格、人物性格要保留。
2. 每段要有連貫但不重複的細節，可發展、轉折。

【注意】
1. 輸出請用 JSON 陣列，依照時間排序。
2. 地點從【可用地點】中選擇
3. 請用繁體中文回答。
4. 注意每段時間發生的事情前後連貫性

【我會提供】
整份原始的每小時行程陣列，格式如下：
[
    {"time": "HH:MM", "activity": "行程描述", "location": "地點"},
    ...
]

請開始解析，並將每一小時拆為4個15分鐘段落輸出。
以下是我提供的行程：
```json
[
{"time": "00:00", "activity": "明月幾時有？把酒問青天。醉臥江邊，以天為被，以地為席。", "location": "河邊"},
{"time": "01:00", "activity": "鼾聲如雷，夢中與杜甫共飲三百杯。", "location": "河邊"},
{"time": "02:00", "activity": "星河燦爛，似無邊酒海。翻身續眠。", "location": "河邊"},
{"time": "03:00", "activity": "隱約聽見流水聲，夢中作詩一首，醒來忘卻。", "location": "河邊"},
{"time": "04:00", "activity": "寒意襲來，裹緊衣衫，繼續沉睡。", "location": "河邊"},
{"time": "05:00", "activity": "東方既白，江風拂面。起身伸個懶腰，吟誦幾句。", "location": "河邊"},
{"time": "06:00", "activity": "日出江花紅勝火，春來江水綠如藍。好詩！好詩！", "location": "河邊"},
{"time": "07:00", "activity": "腹中空空，不如去書院蹭些早飯，順便看看有沒有美人。", "location": "書院"},
{"time": "08:00", "activity": "書院的飯菜雖然粗茶淡飯，但勝在管飽。再來一碗！", "location": "書院"},
{"time": "09:00", "activity": "飽食之後，略感困意，在書院的角落小憩片刻。", "location": "書院"},
{"time": "10:00", "activity": "醒來，聽見書生們高談闊論，無趣至極！不如去城門看看風景。", "location": "城門"},
{"time": "11:00", "activity": "登上城牆，俯瞰眾生。江山如此多嬌，引無數英雄競折腰！", "location": "城牆"},
{"time": "12:00", "activity": "午時已到，飢腸轆轆。還是去書院看看有沒有剩飯。", "location": "書院"},
{"time": "13:00", "activity": "書院果然還有剩菜，填飽肚子，心滿意足。與李昇暾閒聊幾句。", "location": "書院"},
{"time": "14:00", "activity": "李昇暾這小子，滿口之乎者也，聽得我昏昏欲睡。告辭，去酒館醒醒神。", "location": "酒館"},
{"time": "15:00", "activity": "酒逢知己千杯少！獨酌亦可。來一壺好酒！", "location": "酒館"},
{"time": "16:00", "activity": "酒意微醺，詩興大發。提筆疾書，一揮而就！", "location": "酒館"},
{"time": "17:00", "activity": "晃到李清照家庭院賞花飲酒", "location": "李清照家的庭院"},
{"time": "18:00", "activity": "與易安居士談詩論詞，甚是投機。再飲一杯！", "location": "李清照家的庭院"},
{"time": "19:00", "activity": "告別易安居士，漫步江邊，吟詩作對。", "location": "河邊"},
{"time": "20:00", "activity": "月上柳梢頭，人約黃昏後。可惜我李白孤身一人。", "location": "河邊"},
{"time": "21:00", "activity": "酒意漸濃，思緒萬千。不如就此睡去。", "location": "河邊"},
{"time": "22:00", "activity": "夢中化蝶，翩翩起舞，追逐明月。", "location": "河邊"},
{"time": "23:00", "activity": "江風吹拂，略感寒意。翻身繼續睡。", "location": "河邊"}
]
```
'''
````

#### 問題

1. 回應時間很長(約30秒)
2. 回應的內容感覺沒什麼料，
